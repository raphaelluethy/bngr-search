# Plan

## Goal

Update all dependencies/devDependencies to latest versions and make browser search robust by trimming and URL-encoding queries for both default and custom search URLs.

## Scope & Key Files

- `package.json` (dependencies/devDependencies)
- `package-lock.json` (lockfile refresh)
- `src/bngr.tsx` (search URL construction)

## Steps

1. Review current dependency versions in `package.json` and update all deps/devDeps to latest compatible versions.
2. Refresh `package-lock.json` to reflect updated dependencies.
3. Update search URL building in `src/bngr.tsx` to trim input and URL-encode query; apply to default and custom URLs.
4. Handle empty/whitespace-only query by avoiding open or no-op (confirm expected behavior with user if needed).
5. Ensure URL joining remains correct with existing query params and pipe mode.

## Edge Cases

- Queries with spaces, symbols (`&`, `?`, `#`), and non-ASCII characters encode correctly.
- Custom URL with existing params still appends search query properly.
- Pipe mode preserves leading `|` after encoding.

## Verification

- Manually test in Raycast with queries: `opencode sse mcp`, `  hello world  `, `c++`, `foo & bar`, `日本語`.
- Test both default URL and a custom URL preference.
- Run `npm run lint` (optional) to confirm no lint issues.
